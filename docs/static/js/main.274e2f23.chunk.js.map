{"version":3,"sources":["mkNote/mkEditor/templates.js","mkNote/mkEditor/index.jsx","mkNote/mkEditor/startingText.js","mkNote/mkDisplay/index.jsx","mkNote/index.jsx","app/index.jsx","index.js"],"names":["templetes","heading_1","heading_2","heading_3","heading_4","ul","ol","pic","link","line","options","lineNumbers","readOnly","mode","theme","MkEditor","props","onChange","code","componentDidMount","window","codeMirror","editorRef","current","getCodeMirror","last_text","localStorage","getItem","doc","getDoc","setValue","getValue","e","console","log","insertTextAtCursor","text","cursor","getCursor","replaceRange","handleInsert","key","headingMenu","onClick","Item","listMenu","incFontSize","setState","fontSize","state","resetFontSize","decFontSize","onFocusChange","focus","setItem","React","createRef","className","style","this","overlay","trigger","bind","ref","Component","MkDisplay","source","escapeHtml","MkNote","onEditorChange","isSidebarDeployed","Sider","Layout","SubMenu","Menu","App","moveSideMenu","collapsed","isSidebarCollapsed","collapsible","onCollapse","width","BackwardFilled","reverseArrow","defaultSelectedKeys","icon","FileAddOutlined","SaveOutlined","FolderOutlined","title","onTitleClick","popupClassName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.274e2f23.chunk.js","sourcesContent":["const templetes = {\n    heading_1: '# heading',\n    heading_2: '## heading',\n    heading_3: '### heading',\n    heading_4: '#### heading',\n    ul: '- item\\n- item\\n- item\\n',\n    ol: '1. item\\n2. item\\n3. item\\n',\n    pic: '\\n![alt text](url \"title\")\\n',\n    link: '[text](url)',\n    line: '\\n---------------',\n}\nexport default templetes; ","import React from 'react';\nimport CodeMirror from 'react-codemirror';\nimport templetes from './templates.js';\nimport { Menu, Dropdown } from 'antd';\nimport startingText from './startingText';\nimport 'codemirror/mode/markdown/markdown';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/darcula.css'\nimport './style.scss';\n\nconst options = {\n  lineNumbers: false,\n  readOnly: false,\n  mode: 'markdown',\n  theme: 'darcula',\n}\n\nclass MkEditor extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.editorRef = React.createRef();\n    this.state = {\n      fontSize: 16, \n    }\n  }\n\n  onChange = (code) => {\n    this.props.onChange(code);\n  }\n\n  componentDidMount = () => {\n    try {\n      window.codeMirror = this.editorRef.current.getCodeMirror();\n      const last_text = window.localStorage.getItem('mkEditor_last_time');\n      const doc = this.editorRef.current.getCodeMirror().getDoc();\n      if (last_text) {\n        doc.setValue(last_text);\n      } else { \n        doc.setValue(startingText);\n      }\n      this.props.onChange(doc.getValue());\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  insertTextAtCursor = (text) => {\n    try {\n      const doc = this.editorRef.current.getCodeMirror().getDoc();\n      const cursor = doc.getCursor();\n      doc.replaceRange(text, cursor);\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  handleInsert = ({ key }) => {\n    const text = templetes[key];\n    if (!!text) this.insertTextAtCursor(text);\n  };\n\n  headingMenu = (\n    <Menu onClick={this.handleInsert}>\n      <Menu.Item key=\"heading_1\">\n        Heading level 1\n      </Menu.Item>\n      <Menu.Item key=\"heading_2\">\n        Heading level 2\n      </Menu.Item>\n      <Menu.Item key=\"heading_3\">\n        Heading level 3\n      </Menu.Item>\n      <Menu.Item key=\"heading_4\">\n        Heading level 4\n      </Menu.Item>\n    </Menu>\n  );\n\n  listMenu = (\n    <Menu onClick={this.handleInsert}>\n      <Menu.Item key=\"ol\">\n       Ordered list\n      </Menu.Item>\n      <Menu.Item key=\"ul\">\n        Unordered list\n      </Menu.Item>\n    </Menu>\n  );\n\n  incFontSize = () => {\n    this.setState({ fontSize: this.state.fontSize + 1});\n  }\n\n  resetFontSize = () => {\n    this.setState({ fontSize: 16});\n  }\n\n  decFontSize = () => {\n    this.setState({ fontSize: this.state.fontSize - 1});\n  }\n\n  onFocusChange = (focus) => {\n    if (focus) return;\n    // when the editor loses focus, store the current value in local storage\n    try {\n      const doc = this.editorRef.current.getCodeMirror().getDoc();\n      const text = doc.getValue();\n      window.localStorage.setItem('mkEditor_last_time', text);;\n    } catch(e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return(\n      <div className='mk-editor' style={{fontSize: this.state.fontSize + 'px'}}>\n        <div className='top-bar'>\n          Insert:\n          <Dropdown overlay={this.headingMenu} trigger={['click']}>\n            <span className='option'>Heading</span>\n          </Dropdown>\n          <Dropdown overlay={this.listMenu} trigger={['click']}>\n            <span className='option'>List</span>\n          </Dropdown>\n          <span className='option' onClick={this.handleInsert.bind(this, {key: 'pic'})}>Picture</span>\n          <span className='option' onClick={this.handleInsert.bind(this, {key: 'link'})}>Link</span>\n          <span className='option' onClick={this.handleInsert.bind(this, {key: 'line'})}>Line</span>\n          <span className='gap'></span>\n          Font size:\n          <span className='option' onClick={this.incFontSize}>+</span>\n          <span className='option' onClick={this.resetFontSize}>Reset</span>\n          <span className='option' onClick={this.decFontSize}>-</span>\n        </div>\n        <CodeMirror \n          ref={this.editorRef}\n          onChange={this.onChange}\n          options={options} \n          onFocusChange={this.onFocusChange}\n        />\n      </div>\n    );\n  }\n\n};\n\n\nexport default MkEditor;","const startingText = `# Welcome\n---\nThis is markdown editor.\n\nMarkdown is intended to be as ***easy-to-read*** and ***easy-to-write*** as is \nlooking like it’s been marked up with tags or formatting \ninstructions. To this end, Markdown’s syntax is comprised entirely of \npunctuation characters, which punctuation characters have been carefully \nchosen so as to look like what they mean. \n\n- Type markdown script on the left, the compiled result would appear on the right.\n- To insert some specific markdown pattern, use the buttons on the top.\n- The side bar menu is just a decoration for now.\n\n<br>\n\n# Example:\n------\n## The Three Musketeers\nThe Three Musketeers (French: Les Trois Mousquetaires) \nis a historical adventure novel written in 1844 by French author Alexandre Dumas. \nIt is in the swashbuckler genre, which has heroic, chivalrous \nswordsmen who fight for justice.\n\nSet between 1625 and 1628, it recounts the adventures of a young \nman named d'Artagnan (a character based on Charles de Batz-Castelmore\nd'Artagnan) after he leaves home to travel to Paris, hoping to join the \nMusketeers of the Guard. Although d'Artagnan is not able to join this elite \ncorps immediately, he is befriended by three of the most formidable musketeers\nof the age – Athos, Porthos and Aramis, \"the three inseparables\" – and becomes\ninvolved in affairs of state and at court.\n\nThe Three Musketeers is primarily a historical and adventure novel. \nHowever, Dumas frequently portrays various injustices, abuses, \nand absurdities of the Ancien Régime, giving the novel an additional \npolitical significance at the time of its publication, a time when the \ndebate in France between republicans and monarchists was still fierce. \nThe story was first serialised from March to July 1844, during the July Monarchy, \nfour years before the French Revolution of 1848 violently established the Second Republic.\n\n![alt text](https://upload.wikimedia.org/wikipedia/commons/d/dd/Dartagnan-musketeers.jpg \"title\")\n\nDumas presents his novel as one of a series of recovered manuscripts, \nturning the origins of his romance into a little drama of its own. \nIn the Preface, he tells of being inspired by a scene in Mémoires de \nMonsieur d'Artagnan (1700), a historical novel by Gatien de Courtilz de \nSandras, printed by Pierre Rouge in Amsterdam, which Dumas discovered during\nhis research for his history of Louis XIV. According to Dumas, \nthe incident where d'Artagnan tells of his first visit to M. de Tréville,\ncaptain of the Musketeers, and how, in the antechamber, he encountered three\nyoung Béarnese with the names Athos, Porthos, and Aramis, made such an impression\non him that he continued to investigate. That much is true – the rest is fiction:\nHe finally found the names of the three musketeers in a manuscript titled Mémoire\nde M. le comte de la Fère, etc. Dumas “requested permission” to reprint the manuscript;\npermission was granted:\n\n<br>\n\n# Todo list:\n---\n1. back-end storage system\n2. user system`;\nexport default startingText; ","import React from 'react';\nimport Markdown from 'react-markdown';\nimport './style.scss';\n\nconst MkDisplay = (props) => {\n  return (\n    <div className='mk-display'>\n      <Markdown source={props.source} escapeHtml={false}/>\n    </div>\n  );\n}\n\nexport default MkDisplay;","import React from 'react';\nimport MkEditor from './mkEditor/index';\nimport MkDisplay from './mkDisplay/index';\nimport './style.scss';\n\nclass MkNote extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      source: '',\n    }\n  }\n\n  onEditorChange = (code) => {\n    this.setState({\n      source: code,\n    });\n  }\n\n  render() {\n    const className = this.props.isSidebarDeployed ? 'main mk-mode side-bar-deployed' : 'main mk-mode';\n    return (\n      <div className={className}>\n        <MkEditor onChange={this.onEditorChange} />\n        <MkDisplay source={this.state.source} />\n      </div>\n    );\n  }\n}\n\nexport default MkNote;\n","import React from 'react';\nimport MkNote from '../mkNote/index';\nimport {\n  BackwardFilled,\n  FileAddOutlined,\n  SaveOutlined,\n  FolderOutlined,\n} from '@ant-design/icons';\nimport { Layout, Menu } from 'antd';\nimport './style.scss';\n\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      mode: 'mk',\n      isSidebarCollapsed: true,\n    }\n  }\n\n  moveSideMenu = collapsed => {\n    console.log(collapsed)\n    this.setState({ isSidebarCollapsed: collapsed });\n  };\n\n  render() {\n    // const sideBarStyle = this.state.isSidebarDeployed? 'side-bar deployed' : 'side-bar shrinked';\n    return (\n      <div className=\"App\">\n        <Layout>\n          <Sider \n            className=\"side-bar\" \n            collapsible \n            collapsed={this.state.isSidebarCollapsed} \n            onCollapse={this.moveSideMenu}\n            // collapsedWidth={60}\n            width={240}\n            trigger={<BackwardFilled className='forward-arrow icon-btn' style={{ fontSize: '3rem' }}/>}\n            reverseArrow={true}\n          >\n            <Menu defaultSelectedKeys={['1']} mode=\"inline\">\n              <Menu.Item key=\"new\" icon={<FileAddOutlined/>}>\n                New Note\n              </Menu.Item>\n              <Menu.Item key=\"save\" icon={<SaveOutlined/>}>\n                Save\n              </Menu.Item>\n              <SubMenu \n                key=\"directory\" \n                icon={<FolderOutlined />} \n                title=\"root\"\n                onTitleClick={this.moveSideMenu.bind(this, false)}\n                popupClassName='side-bar-popup'\n              >\n                <Menu.Item key=\"d1\" icon={<FolderOutlined />}>Company</Menu.Item>\n                <Menu.Item key=\"d2\" icon={<FolderOutlined />}>Java</Menu.Item>\n                <Menu.Item key=\"d3\" icon={<FolderOutlined />}>Family</Menu.Item>\n              </SubMenu>\n            </Menu>\n          </Sider>\n          <Layout className=\"site-layout\">\n            <MkNote isSidebarDeployed={!this.state.isSidebarCollapsed} />\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/index.jsx';\nimport './index.scss';\nimport 'antd/dist/antd.css'; \n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}